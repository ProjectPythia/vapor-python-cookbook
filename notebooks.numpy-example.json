{"version":2,"kind":"Notebook","sha256":"b9c31c023256bc066059f8ed48df06fdb69d8feb8b954ec7c374d7d600e846f7","slug":"notebooks.numpy-example","location":"/notebooks/numpy_example.ipynb","dependencies":[],"frontmatter":{"title":"Rendering Numpy data with Vapor","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"vapor","language":"python"},"jupytext":{},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/vapor-python-cookbook","copyright":"2024","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/vapor-python-cookbook/blob/main/notebooks/numpy_example.ipynb","exports":[{"format":"ipynb","filename":"numpy_example.ipynb","url":"/vapor-python-cookbook/build/numpy_example-1af90fffad0bb8c00c5ae9447687d6c7.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Vapor supports rendering 2D and 3D numpy data.\nIn order to pass Numpy data to Vapor, create a data set of the type ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Uxv9ZK8Rvg"},{"type":"inlineCode","value":"vapor.dataset.PYTHON","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"euEDQbGQkK"},{"type":"text","value":"\nThis can also be done with the convenience function ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"PjlVz5SE2g"},{"type":"inlineCode","value":"Session.CreatePythonDataset()","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Qmm0I3s7nC"},{"type":"text","value":".\nYou can add numpy arrays as variables to that dataset by using ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HaHLPhpG1r"},{"type":"inlineCode","value":"Dataset.AddNumpyData","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QpYo67gpe1"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Y5Yz9F2ZP0"}],"key":"RymtMnD6vm"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"These variables can then be rendered normally using any of Vaporâ€™s renderers.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"KMEA8vYxs2"}],"key":"qa0dhYBnTR"}],"key":"JfCyIFiUfF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:50.975269Z","iopub.status.busy":"2023-06-22T17:21:50.974858Z","iopub.status.idle":"2023-06-22T17:21:56.494162Z","shell.execute_reply":"2023-06-22T17:21:56.493369Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import example_utils\nfrom vapor import session, renderer, dataset, camera\nimport numpy as np\n\nses = session.Session()\ndata = ses.CreatePythonDataset()","key":"AZttllFSdb"},{"type":"output","id":"ghTFnaB5Xv8HaJmFURx2b","data":[{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mModuleNotFoundError\u001b[39m                       Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[1]\u001b[39m\u001b[32m, line 1\u001b[39m\n\u001b[32m----> \u001b[39m\u001b[32m1\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mexample_utils\u001b[39;00m\n\u001b[32m      2\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mvapor\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m session, renderer, dataset, camera\n\u001b[32m      3\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnumpy\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnp\u001b[39;00m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/work/vapor-python-cookbook/vapor-python-cookbook/notebooks/example_utils.py:20\u001b[39m\n\u001b[32m     16\u001b[39m     sys.path.append(\u001b[33m'\u001b[39m\u001b[33m..\u001b[39m\u001b[33m'\u001b[39m)\n\u001b[32m     19\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01minspect\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m signature\n\u001b[32m---> \u001b[39m\u001b[32m20\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnumpy\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnp\u001b[39;00m\n\u001b[32m     21\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mmath\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m sin\n\u001b[32m     23\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mSampleFunctionOnRegularGrid\u001b[39m(f, ext=\u001b[38;5;28;01mNone\u001b[39;00m, shape=\u001b[38;5;28;01mNone\u001b[39;00m):\n\n\u001b[31mModuleNotFoundError\u001b[39m: No module named 'numpy'","ename":"ModuleNotFoundError","evalue":"No module named 'numpy'"}],"key":"GS4hD2wrf9"}],"key":"rMYODLBPxH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:56.497556Z","iopub.status.busy":"2023-06-22T17:21:56.497175Z","iopub.status.idle":"2023-06-22T17:21:56.687988Z","shell.execute_reply":"2023-06-22T17:21:56.687423Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"\n# Create a 2D numpy array and add it to vapor's dataset\n\nnp_array = np.arange(64**2).reshape((64,64))\ndata.AddNumpyData(\"variable_name\", np_array)\n\nprint(np_array)","key":"X2qHY2fpHi"},{"type":"output","id":"jHfod8YfrmKGpfcz_rtfL","data":[],"key":"OzsIxQBBqx"}],"key":"Y1vZ8uCU8N"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:56.691786Z","iopub.status.busy":"2023-06-22T17:21:56.691536Z","iopub.status.idle":"2023-06-22T17:21:56.847149Z","shell.execute_reply":"2023-06-22T17:21:56.846568Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"\n# Create a renderer for the data\n\nren = data.NewRenderer(renderer.WireFrameRenderer)\nren.SetVariableName(\"variable_name\")","key":"J0g75y1DbC"},{"type":"output","id":"QEZMPC1ZTK8hI7K1YvUc4","data":[],"key":"u0wWmVHwR6"}],"key":"aYY2Zbbvb0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:56.850473Z","iopub.status.busy":"2023-06-22T17:21:56.850264Z","iopub.status.idle":"2023-06-22T17:21:56.978290Z","shell.execute_reply":"2023-06-22T17:21:56.977612Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"\n# Show the rendering\n\nses.GetCamera().ViewAll()\nses.Show()","key":"ofbwLLPsi4"},{"type":"output","id":"C_LFCv3Vr4kEXN_yLyVeq","data":[],"key":"OFjEi69n2z"}],"key":"irdW9bXUSH"}],"key":"pvk0ZGZCES"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Opening Datasets","url":"/notebooks/dataset-example","group":"Foundations of VAPOR Python"},"next":{"title":"Rendering XArray data with Vapor","url":"/notebooks/xarray-example","group":"Foundations of VAPOR Python"}}},"domain":"http://localhost:3000"}