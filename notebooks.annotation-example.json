{"version":2,"kind":"Notebook","sha256":"94d065c52620ac60e431b86b5f58097e78b7ff3be84bb854e919f0789ba2d869","slug":"notebooks.annotation-example","location":"/notebooks/annotation_example.ipynb","dependencies":[],"frontmatter":{"title":"Annotations","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"vapor","language":"python"},"jupytext":{},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/vapor-python-cookbook","copyright":"2024","affiliations":[{"id":"University at Albany (State University of New York)","name":"University at Albany (State University of New York)"},{"id":"UCAR/NCAR","name":"UCAR/NCAR"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/vapor-python-cookbook/blob/main/notebooks/annotation_example.ipynb","exports":[{"format":"ipynb","filename":"annotation_example.ipynb","url":"/vapor-python-cookbook/build/annotation_example-ea88246270ea739c9e261ecf53de8c9a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"You can annotate your renderings using Vapor’s build in annotations as well as MatPlotLib","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JHGvqT1ply"}],"key":"BsKGILt9Vo"}],"key":"qD8lETmxyX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:10.915042Z","iopub.status.busy":"2023-06-22T17:21:10.914700Z","iopub.status.idle":"2023-06-22T17:21:17.720271Z","shell.execute_reply":"2023-06-22T17:21:17.719545Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import example_utils\nfrom vapor import session, renderer, dataset, camera\nfrom vapor.utils import histogram\n\nses = session.Session()\ndata = example_utils.OpenExampleDataset(ses)\n\nren = data.NewRenderer(renderer.TwoDDataRenderer)\nren.SetVariableName(data.GetDataVarNames(2)[1])\nses.GetCamera().ViewAll()","key":"mVum8yYM0l"},{"type":"output","id":"XXCrurFVPKe5eFl__hOub","data":[{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mModuleNotFoundError\u001b[39m                       Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[1]\u001b[39m\u001b[32m, line 1\u001b[39m\n\u001b[32m----> \u001b[39m\u001b[32m1\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mexample_utils\u001b[39;00m\n\u001b[32m      2\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mvapor\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m session, renderer, dataset, camera\n\u001b[32m      3\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mvapor\u001b[39;00m\u001b[34;01m.\u001b[39;00m\u001b[34;01mutils\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m histogram\n\n\u001b[36mFile \u001b[39m\u001b[32m~/work/vapor-python-cookbook/vapor-python-cookbook/notebooks/example_utils.py:20\u001b[39m\n\u001b[32m     16\u001b[39m     sys.path.append(\u001b[33m'\u001b[39m\u001b[33m..\u001b[39m\u001b[33m'\u001b[39m)\n\u001b[32m     19\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01minspect\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m signature\n\u001b[32m---> \u001b[39m\u001b[32m20\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnumpy\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnp\u001b[39;00m\n\u001b[32m     21\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mmath\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m sin\n\u001b[32m     23\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mSampleFunctionOnRegularGrid\u001b[39m(f, ext=\u001b[38;5;28;01mNone\u001b[39;00m, shape=\u001b[38;5;28;01mNone\u001b[39;00m):\n\n\u001b[31mModuleNotFoundError\u001b[39m: No module named 'numpy'","ename":"ModuleNotFoundError","evalue":"No module named 'numpy'"}],"key":"duYfy6aOqM"}],"key":"VhjcTBMSkl"},{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Vapor Colorbars","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Y5qu4uzPtO"}],"identifier":"vapor-colorbars","label":"Vapor Colorbars","html_id":"vapor-colorbars","implicit":true,"key":"heQ6QkDMe6"}],"key":"xQvRiCtIPL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:17.723767Z","iopub.status.busy":"2023-06-22T17:21:17.723393Z","iopub.status.idle":"2023-06-22T17:21:17.929019Z","shell.execute_reply":"2023-06-22T17:21:17.928428Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Show the basic colorbar annotation for a renderer\ncolorbar = ren.GetColorbarAnnotation()\ncolorbar.SetEnabled(True)\nses.Show()","key":"K5e2plpdaV"},{"type":"output","id":"RMy5Qys4V7SgB-QMpukEw","data":[],"key":"eGDFcRd2Qv"}],"key":"eKRnPa8nWT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:17.931811Z","iopub.status.busy":"2023-06-22T17:21:17.931573Z","iopub.status.idle":"2023-06-22T17:21:18.193800Z","shell.execute_reply":"2023-06-22T17:21:18.193206Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Customized colorbar annotation\ncolorbar.SetSize((0.2, 0.25))\ncolorbar.SetTitle(\"Colorbar Title\")\ncolorbar.SetCornerPosition((0.95, 0.95))\nses.Show()","key":"dbU05vkTNu"},{"type":"output","id":"KTflNJVE-337wLIHiLJ9c","data":[],"key":"rslxWrlFzJ"}],"key":"GJMzT5CcH0"},{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"MatPlotLib Colorbars","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"uyZ1Lq6lNL"}],"identifier":"matplotlib-colorbars","label":"MatPlotLib Colorbars","html_id":"matplotlib-colorbars","implicit":true,"key":"yvB5JVWjTf"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"You can customize the histograms as you would MatPlotLib’s ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"V4MYKb57Lg"},{"type":"inlineCode","value":"pylab.colorbar","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DSEZcJUE7L"}],"key":"lNUnD6dfW9"}],"key":"usKQ018cZQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:18.197026Z","iopub.status.busy":"2023-06-22T17:21:18.196732Z","iopub.status.idle":"2023-06-22T17:21:18.480621Z","shell.execute_reply":"2023-06-22T17:21:18.479901Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"tf = ren.GetPrimaryTransferFunction()\ntf.ShowMatPlotLibColorbar()","key":"g78ySpwXST"},{"type":"output","id":"li3AHRwsKrY6PaLujRBjj","data":[],"key":"lcOSgSpN9j"}],"key":"SiS8cJ9u3o"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:18.484259Z","iopub.status.busy":"2023-06-22T17:21:18.483958Z","iopub.status.idle":"2023-06-22T17:21:18.587367Z","shell.execute_reply":"2023-06-22T17:21:18.586498Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"tf.ShowMatPlotLibColorbar(orientation=\"vertical\", figsize=(1.5,4))","key":"spu6cvF5Ek"},{"type":"output","id":"spftaJnFl1qM8LYE8lZmN","data":[],"key":"lkaheADlTX"}],"key":"CB4pMPuxHt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:18.591267Z","iopub.status.busy":"2023-06-22T17:21:18.590897Z","iopub.status.idle":"2023-06-22T17:21:18.788633Z","shell.execute_reply":"2023-06-22T17:21:18.787707Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# The MatPlotLib Colorbars are automatically synced to Vapor's transfer functions\ntf.LoadBuiltinColormap(tf.ListBuiltinColormaps()[7])\nses.Show()\ntf.ShowMatPlotLibColorbar()","key":"eUqAft35zb"},{"type":"output","id":"3-kClPcB-UW9FJ177GL9U","data":[],"key":"Bz2TznepGb"}],"key":"sO3yyDHvxW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:18.792534Z","iopub.status.busy":"2023-06-22T17:21:18.792185Z","iopub.status.idle":"2023-06-22T17:21:18.796057Z","shell.execute_reply":"2023-06-22T17:21:18.795302Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"colorbar.SetEnabled(False)","key":"MzEGfz7Glb"},{"type":"output","id":"OWiZdD335yeuowaOi7nH-","data":[],"key":"P2CMIa3QCQ"}],"key":"xjnRvefhTr"},{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"MatPlotLib Histograms","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qmq5N0mMEw"}],"identifier":"matplotlib-histograms","label":"MatPlotLib Histograms","html_id":"matplotlib-histograms","implicit":true,"key":"kb85YinFID"}],"key":"FUQ8Cyz7qL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:18.799945Z","iopub.status.busy":"2023-06-22T17:21:18.799667Z","iopub.status.idle":"2023-06-22T17:21:19.127883Z","shell.execute_reply":"2023-06-22T17:21:19.127081Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"histogram.ShowMatPlotLibHistogram(ses, ren)","key":"PloE8BgsSX"},{"type":"output","id":"Gi9nyjxw4MUzRyvLyLTSh","data":[],"key":"NQupWyMMK6"}],"key":"jWhVG3TeNW"},{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zd3yHwIC3q"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"You can customize the histograms as you would ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"i02kJacZGx"},{"type":"inlineCode","value":"matplotlib.pyplot.hist","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"swnftSLM1B"}],"key":"epPwgKJ0Dr"}],"key":"bcKN46mFvg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:19.131927Z","iopub.status.busy":"2023-06-22T17:21:19.131589Z","iopub.status.idle":"2023-06-22T17:21:19.539863Z","shell.execute_reply":"2023-06-22T17:21:19.539023Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"plt = histogram.GetMatPlotLibHistogram(ses, ren, color =\"red\")\nplt.xlabel(\"X-Axis\")\nplt.ylabel(\"Y-Axis\")\nplt.title(\"Title\\n\", fontweight=\"bold\")\nplt.show()","key":"ldHMRCFFPc"},{"type":"output","id":"-kqeoVESKnKZq89lVQ51d","data":[],"key":"cB1Hh1oADz"}],"key":"jUUUIjWz73"},{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Axis Annotations","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wo3st8pTBG"}],"identifier":"axis-annotations","label":"Axis Annotations","html_id":"axis-annotations","implicit":true,"key":"LS2CQufBr8"}],"key":"xlZv13S4eJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:19.544879Z","iopub.status.busy":"2023-06-22T17:21:19.544524Z","iopub.status.idle":"2023-06-22T17:21:19.696477Z","shell.execute_reply":"2023-06-22T17:21:19.695622Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"axis = ses.GetAxisAnnotations()\naxis.SetAxisAnnotationEnabled(True)\nses.Show()","key":"JGyskRyMxQ"},{"type":"output","id":"QrHbW55VRzJ7sN8xo53VK","data":[],"key":"MTho9nMYmc"}],"key":"F2BVct29PS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:19.700615Z","iopub.status.busy":"2023-06-22T17:21:19.700287Z","iopub.status.idle":"2023-06-22T17:21:19.793560Z","shell.execute_reply":"2023-06-22T17:21:19.792191Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"axis.SetNumTics((5,5))\naxis.SetAxisFontSize(24)\nses.Show()\n\n# This example dataset is not geo-referenced\n# axis.SetLatLonAxesEnabled(True)","key":"qjNQK7Cgk5"},{"type":"output","id":"28LVqg-WRZ23kKwSIHT4q","data":[],"key":"ihSOxdhrRB"}],"key":"pmbUqWAgPo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:19.799061Z","iopub.status.busy":"2023-06-22T17:21:19.798771Z","iopub.status.idle":"2023-06-22T17:21:19.802403Z","shell.execute_reply":"2023-06-22T17:21:19.801787Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"axis.SetAxisAnnotationEnabled(False)","key":"aoJVikatTv"},{"type":"output","id":"t0OlLqHDRfSixCTC9SXYf","data":[],"key":"rOpbGtFWKu"}],"key":"XUjZi0Y6c5"},{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Scene Annotations","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"d9jvK4Ajr2"}],"identifier":"scene-annotations","label":"Scene Annotations","html_id":"scene-annotations","implicit":true,"key":"Ln32wsihT2"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Scene annotations are other annotations and rendering options that apply to the entire rendering such as background color.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mxxa5L6mxq"}],"key":"y4qA7mIoRu"}],"key":"nTXoQRrgkm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:19.805100Z","iopub.status.busy":"2023-06-22T17:21:19.804874Z","iopub.status.idle":"2023-06-22T17:21:19.917193Z","shell.execute_reply":"2023-06-22T17:21:19.916663Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scene = ses.GetSceneAnnotations()\nscene.SetBackgroundColor((1,1,1))\nscene.SetUseDomainFrame(False)\nses.Show()","key":"rbZCb11iwu"},{"type":"output","id":"3n9eDybVTgyAclXFrQrry","data":[],"key":"gklSKgK0Eh"}],"key":"cQBsqmgyYI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:19.920334Z","iopub.status.busy":"2023-06-22T17:21:19.920130Z","iopub.status.idle":"2023-06-22T17:21:20.022922Z","shell.execute_reply":"2023-06-22T17:21:20.022278Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scene.SetAxisArrowEnabled(True)\nscene.SetAxisArrowSize(0.4)\n\nscene.SetTimeType(scene.TimeAnnotationType.Timestep)\nscene.SetTimeColor((0,0,0))\nscene.SetTimeLLX(0.7)\n\nses.Show()","key":"Gv1tuoDJA9"},{"type":"output","id":"PGF1BArvZ8LvOLX2Xwha9","data":[],"key":"rkJ0OJEE25"}],"key":"iVikmesAEk"}],"key":"eTHCK7ORGQ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Transfer Functions","url":"/notebooks/transfer-function-example","group":"Foundations of VAPOR Python"},"next":{"title":"Creating Animations","url":"/notebooks/animation-example","group":"Foundations of VAPOR Python"}}},"domain":"http://localhost:3000"}