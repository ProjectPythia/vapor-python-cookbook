{"version":2,"kind":"Notebook","sha256":"b9c31c023256bc066059f8ed48df06fdb69d8feb8b954ec7c374d7d600e846f7","slug":"numpy-example","location":"/notebooks/numpy_example.ipynb","dependencies":[],"frontmatter":{"title":"Rendering Numpy data with Vapor","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"vapor","language":"python"},"jupytext":{},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/vapor-python-cookbook","copyright":"2024","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/vapor-python-cookbook/blob/main/notebooks/numpy_example.ipynb","exports":[{"format":"ipynb","filename":"numpy_example.ipynb","url":"/vapor-python-cookbook/build/numpy_example-d9a456ba292b615cba1c265dc9d2bf2f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"lines_to_next_cell":0,"region_name":"md"},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Vapor supports rendering 2D and 3D numpy data.\nIn order to pass Numpy data to Vapor, create a data set of the type ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CTAHi27tVE"},{"type":"inlineCode","value":"vapor.dataset.PYTHON","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bjHWtiByYa"},{"type":"text","value":"\nThis can also be done with the convenience function ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Ju9GFGWUGJ"},{"type":"inlineCode","value":"Session.CreatePythonDataset()","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"n65JKIjj1l"},{"type":"text","value":".\nYou can add numpy arrays as variables to that dataset by using ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"e7SjIGS09P"},{"type":"inlineCode","value":"Dataset.AddNumpyData","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"oUCkBR3wvt"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"GW0YIxnuMQ"}],"key":"tADHMo4fTT"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"These variables can then be rendered normally using any of Vaporâ€™s renderers.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Bu4YoEMAHw"}],"key":"GbkqgSAc66"}],"key":"Y1SRnAAoRJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:50.975269Z","iopub.status.busy":"2023-06-22T17:21:50.974858Z","iopub.status.idle":"2023-06-22T17:21:56.494162Z","shell.execute_reply":"2023-06-22T17:21:56.493369Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import example_utils\nfrom vapor import session, renderer, dataset, camera\nimport numpy as np\n\nses = session.Session()\ndata = ses.CreatePythonDataset()","key":"OawgqWlGLk"},{"type":"output","id":"qde_R5HmaBstqNVBswrUZ","data":[{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mModuleNotFoundError\u001b[39m                       Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[1]\u001b[39m\u001b[32m, line 1\u001b[39m\n\u001b[32m----> \u001b[39m\u001b[32m1\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mexample_utils\u001b[39;00m\n\u001b[32m      2\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mvapor\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m session, renderer, dataset, camera\n\u001b[32m      3\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnumpy\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnp\u001b[39;00m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/work/vapor-python-cookbook/vapor-python-cookbook/notebooks/example_utils.py:20\u001b[39m\n\u001b[32m     16\u001b[39m     sys.path.append(\u001b[33m'\u001b[39m\u001b[33m..\u001b[39m\u001b[33m'\u001b[39m)\n\u001b[32m     19\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01minspect\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m signature\n\u001b[32m---> \u001b[39m\u001b[32m20\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnumpy\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnp\u001b[39;00m\n\u001b[32m     21\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mmath\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m sin\n\u001b[32m     23\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mSampleFunctionOnRegularGrid\u001b[39m(f, ext=\u001b[38;5;28;01mNone\u001b[39;00m, shape=\u001b[38;5;28;01mNone\u001b[39;00m):\n\n\u001b[31mModuleNotFoundError\u001b[39m: No module named 'numpy'","ename":"ModuleNotFoundError","evalue":"No module named 'numpy'"}],"key":"IWzAHa2j5y"}],"key":"cX74V9sDZA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:56.497556Z","iopub.status.busy":"2023-06-22T17:21:56.497175Z","iopub.status.idle":"2023-06-22T17:21:56.687988Z","shell.execute_reply":"2023-06-22T17:21:56.687423Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"\n# Create a 2D numpy array and add it to vapor's dataset\n\nnp_array = np.arange(64**2).reshape((64,64))\ndata.AddNumpyData(\"variable_name\", np_array)\n\nprint(np_array)","key":"SLhJeEMTxb"},{"type":"output","id":"Oak_QHwQmxRishIk0_W29","data":[],"key":"q6ybMQWDEl"}],"key":"PQ5Ilc40eX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:56.691786Z","iopub.status.busy":"2023-06-22T17:21:56.691536Z","iopub.status.idle":"2023-06-22T17:21:56.847149Z","shell.execute_reply":"2023-06-22T17:21:56.846568Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"\n# Create a renderer for the data\n\nren = data.NewRenderer(renderer.WireFrameRenderer)\nren.SetVariableName(\"variable_name\")","key":"Y6vVtc9pqa"},{"type":"output","id":"-gibA9tkCsPgDE7D2Z6wG","data":[],"key":"CITRJZgnJ9"}],"key":"sgeTohMt4q"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-06-22T17:21:56.850473Z","iopub.status.busy":"2023-06-22T17:21:56.850264Z","iopub.status.idle":"2023-06-22T17:21:56.978290Z","shell.execute_reply":"2023-06-22T17:21:56.977612Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"\n# Show the rendering\n\nses.GetCamera().ViewAll()\nses.Show()","key":"pjt8UtOcWy"},{"type":"output","id":"7qIW5C5hVTgAp8q6_YgsC","data":[],"key":"oaQgpAFf4P"}],"key":"JmnZl6BDGg"}],"key":"yXc14E7Kr5"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Opening Datasets","url":"/dataset-example","group":"Foundations of VAPOR Python"},"next":{"title":"Rendering XArray data with Vapor","url":"/xarray-example","group":"Foundations of VAPOR Python"}}},"domain":"http://localhost:3000"}